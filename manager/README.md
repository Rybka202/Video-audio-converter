# Проект по конвертации видео-аудио файлов на FastApi

Данный проект является реализацией конвертера файлов
из одного формата в другой, а именно осуществляется работа
с видео и аудио форматами.

# Установка

Для запуска программы необходимо скачать:
- Docker-compose файл для сборки всех серверов(docker-compose.yml)

# Запуск

Для запуска программы необходимо перейти в директорию,
где лежит docker-compose файл и запустить следующую команду:
```
    docker compose up -d
```
Для завершения всех серверов использовать:
```
     docker kill $(docker ps -q) 
```

# Настройка

Необходимо настроить minio и БД после запуска docker-compose
(настроить нужно всего 1 раз, все настройки сохраняются на сервере):

Для настройки minio нужно подключиться на http://127.0.0.1:9001, ввести логин(Simon)
и пароль(password). Перейти в раздел Administrator в вкладку
Buckets. Открыть любой существующий bucket и установить
Access Policy: public, а значение Quota(ограничение по памяти) 
установить на свое усмотрение. Аналогичные действия необходимо
сделать с другим bucket-ом.

Для настройки БД нужно подключиться к PostrgeSQL через pgAdmin.
Servers -> Register -> Server. Name = postgres, Host = localhost,
Port = 5432, Password = 1111, Username = postgres. После 
подключения к БД нужно ввести следующий запрос:
```
INSERT INTO stage VALUES
(1, 'В процессе обработки'),
(2, 'Обработка завершена'),
(3, 'Скачано')
```

Также необходимо запустить сами сервера обработчики. Перейти 
по ссылке http://127.0.0.1:8004/docs и http://127.0.0.1:8005/docs
и отправить get запрос startup в каждом. После этого сервера 
обработчики будут запущены.

После всех вышеуказанных действий сервер готов к работе.
